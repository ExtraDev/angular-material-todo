<ng-template #loading>
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</ng-template>

<div class="container">

    <h1>Todo List</h1>

    <form class="todo-form">
        <mat-form-field class="mat-input">
            <mat-label>Ajouter une Todo</mat-label>
            <input matInput placeholder="Nom de votre todo" [formControl]="nameControl">
        </mat-form-field>

        <button mat-raised-button type="button" color="primary" [disabled]="!nameControl.valid"
            (click)="createTodo()">Ajouter</button>
    </form>

    <div class="todo-container" *ngIf="todos$ | async as todo; else loading">
        <app-todo *ngFor="let task of todos$ | async" [task]="task" (todoDeleted)="updateTodosList()"></app-todo>
    </div>

</div>